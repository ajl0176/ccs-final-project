(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{46:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(2),c=n.n(s),r=n(22),i=n.n(r),o=(n(46),n(9)),l=n.n(o),d=n(14),u=n(4),h=n(5),j=n(3),m=n(7),b=n(6),p=n(11),O=(n(23),n(48),n(49),n.p+"static/media/logoblue.56f3b240.jpeg"),f=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsx)("div",{className:" align-items-start mb-2",children:Object(a.jsx)("img",{className:"logo",src:O,alt:"Logo"})})})}}]),n}(s.Component),v=n(17),x=n(19),g=(n(50),function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("main",{className:"menu-wrapper",children:Object(a.jsx)("div",{className:"container menuitems",children:Object(a.jsxs)("ul",{className:"menu-list",children:[Object(a.jsxs)("div",{className:"row ",children:[Object(a.jsx)("h5",{className:"col-8",children:this.props.item.entree}),Object(a.jsxs)("h5",{className:"col-2",children:["$",this.props.item.price]})]}),Object(a.jsxs)("p",{className:"descript",children:[" ",this.props.item.description]}),Object(a.jsx)("img",{src:this.props.item.image,alt:""}),Object(a.jsx)("button",{type:"button",className:"btn btn-primary mt-2 ml-0",onClick:function(){return e.props.addOrder(e.props.item)},children:"Add to Order"}),Object(a.jsx)("hr",{className:"col-10"})]})})})}}]),n}(s.Component)),y=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={createYourOwn:[]},a.addToCreateYourOwn=a.addToCreateYourOwn.bind(Object(j.a)(a)),a.addAddOnToOrder=a.addAddOnToOrder.bind(Object(j.a)(a)),a}return Object(h.a)(n,[{key:"addToCreateYourOwn",value:function(e){var t=Object(x.a)(this.state.createYourOwn);if(t.includes(e)){var n=t.indexOf(e);t.splice(n,1),this.setState({createYourOwn:t})}else t.push(e),this.setState({createYourOwn:t})}},{key:"addAddOnToOrder",value:function(){var e=this.state.createYourOwn.reduce((function(e,t){return e+Number(t.price)}),0),t=this.state.createYourOwn.reduce((function(e,t){return e+"".concat(t.item,"    ")}),"Add on:   ");this.props.addOrder({entree:t,price:e}),this.setState({createYourOwn:[]}),console.log(t,e)}},{key:"render",value:function(){var e,t=this,n=this.props.menuItems.map((function(e){return Object(a.jsx)(g,{addOrder:t.props.addOrder,deleteOrder:t.props.deleteOrder,deleteItem:t.props.deleteItem,subtotal:t.props.subtotal,item:e},e.id)})),s=null===(e=this.props.addOns)||void 0===e?void 0:e.map((function(e,t){return e.category})),r=(s=Object(x.a)(new Set(s))).map((function(e){var n=t.props.addOns.filter((function(t){return t.category===e})).map((function(e){return Object(a.jsxs)("p",{className:"btn btn-outline-dark ".concat(t.state.createYourOwn.includes(e)?"addon-selected":null),type:"submit",onClick:function(){return t.addToCreateYourOwn(e)},children:[e.item,"  "]},e.id)})),s=t.props.addOns.filter((function(t){return t.category===e})).map((function(e){return Object(a.jsxs)("p",{className:"price",children:["$",e.price," "]},e.id)}));return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-category",children:[Object(a.jsx)("h2",{className:"category",children:e}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"row-category",children:[Object(a.jsx)("h5",{className:"col-5 items",children:n}),Object(a.jsx)("h5",{className:"col-3 category",children:s})]})})]})})})})}));return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("h2",{className:"foodCategory-menu",children:"Menu"}),Object(a.jsx)("br",{}),n]}),Object(a.jsx)("h2",{className:"foodCategory-own",children:"Make Your Own!"}),Object(a.jsx)("div",{className:"addOns",children:r}),Object(a.jsx)("button",{id:"add-on-button",className:"button-addons btn btn-primary mt-2",onClick:this.addAddOnToOrder,children:"Add to Order"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]})]})}}]),n}(s.Component),k=n(67),C=n(68),N=n(69),w=n(70),S=n(71),I=n(72),A=(n(51),function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={value:""},a.sendEmail=a.sendEmail.bind(Object(j.a)(a)),a}return Object(h.a)(n,[{key:"sendEmail",value:function(e){e.preventDefault();var t=this.props.order.reduce((function(e,t){return e+Number(t.price)}),0),n="";this.props.order.forEach((function(e){console.log(e),n+=e.entree})),console.log(n);var a={user_id:"user_sr0w503Gqj0aj0jeBbrWw",service_id:"service_wdl1o7j",template_id:"template_17m2cti",template_params:{name:e.target.name.value,phone:e.target.phone.value,email:e.target.email.value,date:e.target.date.value,pickup:e.target.pickup.value,instructions:e.target.instructions.value,orderList:n,subtotal:"$ ".concat(t)}},s={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(a)};fetch("https://api.emailjs.com/api/v1.0/email/send",s).then((function(e){if(!e.ok)return e.text().then((function(e){return Promise.reject(e)}));console.log("Your mail is sent!")})).catch((function(e){console.log("Oops... "+e)})),e.target.reset(),this.props.checkOut()}},{key:"render",value:function(){var e=this,t=this.props.order.reduce((function(e,t){return e+Number(t.price)}),0),n=this.props.order.map((function(t,n){return Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)("h5",{className:"col-8 md={6}",children:t.entree}),Object(a.jsxs)("h5",{className:"col-2 md={6}",children:["$",t.price]}),Object(a.jsx)("strong",{children:Object(a.jsx)("button",{type:"button",id:"delete-order-item-button",className:"btn col-2",onClick:function(){return e.props.deleteOrder(t)},children:"DELETE"})})]},n)}));return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(k.a,{onSubmit:this.sendEmail,children:[Object(a.jsx)("h2",{className:"foodCategory",children:"Order Form"}),Object(a.jsx)("br",{}),Object(a.jsxs)(C.a,{form:!0,children:[Object(a.jsx)(N.a,{md:6,children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(S.a,{for:"name",children:"Name"}),Object(a.jsx)(I.a,{type:"text",name:"name",onChange:this.handleChange})]})}),Object(a.jsx)(N.a,{md:6,children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(S.a,{for:"phone",children:"Phone"}),Object(a.jsx)(I.a,{type:"text",name:"phone",onChange:this.handleChange})]})})]}),Object(a.jsxs)(w.a,{children:[Object(a.jsx)(S.a,{for:"email",children:"Email"}),Object(a.jsx)(I.a,{type:"email",name:"email",onChange:this.handleChange})]}),Object(a.jsxs)(w.a,{children:[Object(a.jsx)(S.a,{for:"date",children:"Date"}),Object(a.jsx)(I.a,{type:"date",name:"date",onchange:this.handleChange})]}),Object(a.jsxs)(w.a,{children:[Object(a.jsx)(S.a,{for:"pickup",children:"Pick-Up Time "}),Object(a.jsx)(I.a,{type:"time",id:"pickup",name:"pickup",min:"11:00",max:"14:00",onChange:this.handleChange})]}),Object(a.jsxs)(w.a,{children:[Object(a.jsx)(S.a,{for:"name1",children:"Special Instructions"}),Object(a.jsx)(I.a,{type:"text",name:"instructions",onChange:this.handleChange})]}),Object(a.jsx)(w.a,{children:Object(a.jsx)("div",{className:"row justify-content-between",children:Object(a.jsxs)("div",{className:"col-12 orders",children:[n,Object(a.jsx)("hr",{className:"solid"})]})})}),Object(a.jsxs)(w.a,{children:[Object(a.jsx)("div",{className:"row justify-content-center",children:Object(a.jsx)("div",{className:"col-6",children:Object(a.jsx)("div",{className:"subtotal",children:Object(a.jsxs)("h4",{children:["Total: $",t]})})})}),Object(a.jsx)("div",{className:"col-6",children:Object(a.jsx)("input",{type:"submit",className:"btn btn-info",value:"Check Out"})})]})]})})}}]),n}(s.Component)),L=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={menuItems:[],addOns:[],order:[],subtotal:0},a.addOrder=a.addOrder.bind(Object(j.a)(a)),a.deleteOrder=a.deleteOrder.bind(Object(j.a)(a)),a.checkOut=a.checkOut.bind(Object(j.a)(a)),a.fetchMenuItems=a.fetchMenuItems.bind(Object(j.a)(a)),a.fetchAddOns=a.fetchAddOns.bind(Object(j.a)(a)),a}return Object(h.a)(n,[{key:"addOrder",value:function(e){console.log(e);var t=[].concat(Object(x.a)(this.state.order),[e]);this.setState(Object(v.a)({order:t},"order",t))}},{key:"deleteOrder",value:function(e){console.log(e);var t=Object(x.a)(this.state.order),n=t.indexOf(t);t.splice(n,1),this.setState(Object(v.a)({order:t},"order",t))}},{key:"checkOut",value:function(){this.setState({order:[]})}},{key:"fetchMenuItems",value:function(){var e=this;fetch("/api/v1/menuitems/").then((function(e){return e.json()})).then((function(t){return e.setState({menuItems:t})})).then((function(e){return console.log("Error",e)}))}},{key:"fetchAddOns",value:function(){var e=this;fetch("/api/v1/menuitems/addons/").then((function(e){return e.json()})).then((function(t){return e.setState({addOns:t})})).then((function(e){return console.log("Error",e)}))}},{key:"componentDidMount",value:function(){this.fetchMenuItems(),this.fetchAddOns()}},{key:"render",value:function(){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-7",children:Object(a.jsx)(y,{menuItems:this.state.menuItems,addOns:this.state.addOns,addOrder:this.addOrder})}),Object(a.jsx)("div",{className:"col-5",children:Object(a.jsx)(A,{order:this.state.order,deleteOrder:this.deleteOrder,checkOut:this.checkOut})})]})})}}]),n}(s.Component),D=n(26),F=n(15),E=n.n(F),M=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleImage=function(e){var t=e.target.files[0];a.setState({image:t});var n=new FileReader;n.onloadend=function(){a.setState({preview:n.result})},n.readAsDataURL(t)},a.state={entree:"",price:"",menuItems:[],menuItem:{},description:"",image:null,is_active:!1,isEditing:!1},a.handleChange=a.handleChange.bind(Object(j.a)(a)),a.addItem=a.addItem.bind(Object(j.a)(a)),a.updateItem=a.updateItem.bind(Object(j.a)(a)),a.handleImage=a.handleImage.bind(Object(j.a)(a)),a.deleteItem=a.deleteItem.bind(Object(j.a)(a)),a.fetchMenuItems=a.fetchMenuItems.bind(Object(j.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchMenuItems();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"addItem",value:function(e){e.preventDefault();var t=E.a.get("csrftoken"),n=new FormData;n.append("entree",this.state.entree),n.append("price",this.state.price),n.append("description",this.state.description),n.append("image",this.state.image),n.append("is_active",this.state.is_active),console.log(n),fetch("/api/v1/menuitems/form/",{method:"POST",headers:{"X-CSRFToken":t},body:n}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}},{key:"addAddOn",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=Object(D.a)({},this.state),a={method:"POST",headers:{"X-CSRFToken":E.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(n)},s=function(e){return console.warn(e)},e.next=6,fetch("/api/v1/menuitems/form/",a).catch(s);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateItem",value:function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("id",t.id),this.props.match.params.id,a=Object(x.a)(this.state.menuItems),s=a.indexOf(t),console.log("index",s),a[s]=n,this.setState({menuItems:a}),(c=new FormData).append("entree",n.entree),c.append("price",n.price),c.append("description",n.description),this.state.image&&c.append("image",this.state.image),e.next=14,fetch("/api/v1/menuitems/form/".concat(t.id,"/"),{method:"PATCH",headers:{"X-CSRFToken":E.a.get("csrftoken")},body:c});case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteItem",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n={method:"DELETE",headers:{"X-CSRFToken":E.a.get("csrftoken")}},a=function(e){return console.warn(e)},e.next=5,fetch("/api/v1/menuitems/form/".concat(t.id),n);case 5:return s=e.sent,e.next=8,s.json().catch(a);case 8:c=e.sent,console.log(c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMenuItems",value:function(){var e=this;fetch("/api/v1/menuitems/form/").then((function(e){return e.json()})).then((function(t){return e.setState({menuItems:t})})).then((function(e){return console.log("Error",e)}))}},{key:"render",value:function(){var e,t=this,n=null===(e=this.state.menuItems)||void 0===e?void 0:e.map((function(e){return Object(a.jsx)(T,{updateItem:t.updateItem,deleteItem:t.deleteItem,item:e},e.id)}));return console.log(this.state.menuItems),Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("form",{className:"col-12 form mb=6",onSubmit:function(e){return t.addItem(e,t.state)},children:Object(a.jsx)("div",{className:"form group",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col-5",children:[Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"entree",children:"Entree"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"entree",name:"entree",value:this.state.entree,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"price",children:"Price"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"price",name:"price",value:this.state.price,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"description",children:"Description"}),Object(a.jsx)("textarea",{rows:"3",type:"text",className:"form-control",id:"description",name:"description",value:this.state.description,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"image",children:"Image"}),Object(a.jsx)("input",{type:"file",id:"image",name:"image",onChange:this.handleImage}),Object(a.jsx)("img",{src:this.state.preview,alt:""}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"is_active",children:"Is Active"}),Object(a.jsx)("input",{type:"checkbox",checked:this.state.is_active,onChange:function(){return t.setState((function(e){return{is_active:!e.is_active}}))}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Item"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]}),Object(a.jsxs)("div",{className:"col-5",children:[Object(a.jsx)("br",{}),n]})]})})})})}}]),n}(s.Component),T=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={isEditing:!1},a.handleInput=a.handleInput.bind(Object(j.a)(a)),a.handleUpdate=a.handleUpdate.bind(Object(j.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.setState(Object(D.a)({},this.props.item))}},{key:"handleInput",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"handleUpdate",value:function(){this.setState({isEditing:!1}),this.props.updateItem(this.props.item,this.state)}},{key:"render",value:function(){var e=this;return Object(a.jsx)("form",{className:"col-12",children:Object(a.jsxs)("ul",{className:"menu-list",children:[this.state.isEditing?Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("input",{type:"text",name:"entree",value:this.state.entree,onChange:this.handleInput}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",name:"price",value:this.state.price,onChange:this.handleInput}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"textarea",name:"description",value:this.state.description,onChange:this.handleInput})]}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h5",{className:"col",children:this.props.item.entree}),Object(a.jsxs)("h5",{className:"col",children:["$",this.props.item.price," "]}),Object(a.jsx)("p",{className:"col",children:this.props.item.description})]}),Object(a.jsx)("br",{}),this.state.isEditing?Object(a.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:this.handleUpdate,children:"Save"}):Object(a.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:function(){return e.setState({isEditing:!0})},children:"Edit"}),Object(a.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:function(){return e.props.deleteItem(e.props.item)},children:"Delete"}),Object(a.jsx)("hr",{})]})})}}]),n}(s.Component),_=M,P=n(28),R=n(40),Y=(n(54),n(29)),U=(n(55),n(36)),z=n.n(U),B=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={selected:!1},a.handleClick=a.handleClick.bind(Object(j.a)(a)),a}return Object(h.a)(n,[{key:"handleClick",value:function(e){this.setState({selected:!this.state.selected}),this.props.selectLocation(this.props.item)}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"container",onClick:this.handleClick,children:Object(a.jsx)("ul",{className:"address-list",children:Object(a.jsxs)("div",{className:"list-group-item ".concat(this.state.selected?"location-selected":null),children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("h5",{className:"col-8 day",children:[z.a.utc(this.props.item.date).format("MMMM D, YYYY")," "]}),Object(a.jsx)("h5",{className:"col-4 time location-detail",children:" From: 11:00 AM"}),Object(a.jsx)("h5",{className:"col-4 time location-detail",children:"Until: 2:00 PM"})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("h5",{className:"col-12 location-detail",children:this.props.item.location})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("h5",{className:"col-12 location-detail",children:this.props.item.address})})]})})})}}]),n}(s.Component),J=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props.events.map((function(t){return Object(a.jsx)(B,{addDate:e.props.addDate,deleteDate:e.props.deleteDate,item:t,selectLocation:e.props.selectLocation},t.id)}));return console.log(t),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("br",{}),Object(a.jsx)("h2",{className:"locations",children:"Location Schedule"}),Object(a.jsx)("br",{}),t]})}}]),n}(s.Component);function X(){var e=Object(P.a)(["\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 20px;\n  text-align:center;\n"]);return X=function(){return e},e}var $=Y.a.div(X()),G=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onPlaceChanged=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props,t=e.map,n=e.addplace;console.log("firing");var s=a.autoComplete.getPlace();s.geometry&&(s.geometry.viewport?t.fitBounds(s.geometry.viewport):(t.setCenter(s.geometry.location),t.setZoom(17)),n(s),console.log("addplace",s),a.searchInput.blur())},a.state={selectedLocation:null},a.clearSearchBox=a.clearSearchBox.bind(Object(j.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.map,n=e.mapApi,a={types:["address"]};this.autoComplete=new n.places.Autocomplete(this.searchInput,a),this.autoComplete.addListener("place_changed",this.onPlaceChanged),this.autoComplete.bindTo("bounds",t)}},{key:"componentWillUnmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.mapApi;t.event.clearInstanceListeners(this.searchInput)}},{key:"clearSearchBox",value:function(){this.searchInput.value=""}},{key:"render",value:function(){var e=this;return Object(a.jsx)($,{children:Object(a.jsx)("input",{className:"search-input",ref:function(t){e.searchInput=t},type:"text",onFocus:this.clearSearchBox,placeholder:"Enter a location"})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.selectedLocation!==t.selectedLocation?{selectedLocation:e.selectedLocation}:null}}]),n}(s.Component);function W(){var e=Object(P.a)(["\n  width: 100%;\n  height: 50vh;\n"]);return W=function(){return e},e}var H=Y.a.main(W()),q=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={events:[],mapApiLoaded:!1,mapInstance:null,mapApi:null,geoCoder:null,places:[],center:[],zoom:9,address:"",draggable:!0,lat:null,lng:null,selectedLocation:null,selectedLocations:[],markers:[]},e.selectLocation=function(t){console.log("select location",t);for(var n=Object(x.a)(e.state.markers),a=0;a<n.length;a++)n[a].setMap(null);var s=Object(x.a)(e.state.selectedLocations);if(s.includes(t)){var c=s.indexOf(t);s.splice(c,1)}else s.push(t);e.setState({selectedLocation:t,selectedLocations:s,markers:[]},e.addMarkers)},e.onMarkerInteraction=function(t,n,a){e.setState({draggable:!1,lat:a.lat,lng:a.lng})},e.onMarkerInteractionMouseUp=function(t,n,a){e.setState({draggable:!0}),e._generateAddress()},e._onChange=function(t){var n=t.center,a=t.zoom;e.setState({center:n,zoom:a})},e._onClick=function(t){e.setState({lat:t.lat,lng:t.lng})},e.apiHasLoaded=function(t,n){e.setState({mapApiLoaded:!0,mapInstance:t,mapApi:n}),e._generateAddress()},e.addPlace=function(t){e.setState({places:[t],lat:t.geometry.location.lat(),lng:t.geometry.location.lng()}),e._generateAddress()},e.addToState=function(){var t=Object(d.a)(l.a.mark((function t(n,a){var s,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/events/");case 2:return s=t.sent,t.next=5,s.json();case 5:return c=t.sent,t.next=8,e.setState({events:c});case 8:return t.next=10,e.setState({map:n});case 10:return t.next=12,e.setState({maps:a});case 12:e.addMarkers();case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.addMarkers=function(){console.log("firing add markers"),e.state.selectedLocations.length?e.state.selectedLocations.forEach((function(t){return e.renderMarkers(t)})):e.state.events.forEach((function(t){return e.renderMarkers(t)}))},e.renderMarkers=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,s,c,r,i,o,d,u,h,j,m;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.location.replace(/\s/g,"+"),t.next=3,fetch("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(a,"&key=","AIzaSyDDemUDBcejm-EJL2t4Edrfghghjh5zhq4"));case 3:return s=t.sent,t.next=6,s.json();case 6:return c=t.sent,r=c.results[0].geometry,console.log("geocode",r),console.log(n),i=e.state.map,o=e.state.maps,console.log(c.results[0].geometry.location.lat),d=c.results[0].geometry.location.lat,u=c.results[0].geometry.location.lng,h=new o.InfoWindow({content:"<h5>".concat(n.location,"</h5><p>hours: ").concat(n.start_time," ").concat(n.end_time,'</p><a href="https://www.google.com/maps/place/').concat(n.address,'">').concat(n.address,"</a>")}),(j=new o.Marker({position:{lat:d,lng:u},map:i,title:n.name})).addListener("click",(function(){h.open(i,j)})),(m=Object(x.a)(e.state.markers)).push(j),e.setState({markers:m}),t.abrupt("return",j);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(n,[{key:"componentWillMount",value:function(){this.setCurrentLocation()}},{key:"_generateAddress",value:function(){var e=this;(new this.state.mapApi.Geocoder).geocode({location:{lat:this.state.lat,lng:this.state.lng}},(function(t,n){console.log(t),console.log(n),"OK"===n?t[0]?(e.zoom=12,e.setState({address:t[0].formatted_address})):window.alert("No results found"):window.alert("Geocoder failed due to: "+n)}))}},{key:"setCurrentLocation",value:function(){var e=this;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(t){e.setState({center:[t.coords.latitude,t.coords.longitude],lat:t.coords.latitude,lng:t.coords.longitude})}))}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.mapApiLoaded,s=t.mapInstance,c=t.mapApi;return Object(a.jsx)(H,{children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-6",children:Object(a.jsx)(J,{events:this.state.events,selectLocation:this.selectLocation})}),Object(a.jsxs)("div",{className:"col-5 map",children:[n&&Object(a.jsx)("div",{children:Object(a.jsx)(G,{map:s,mapApi:c,addplace:this.addPlace,selectedLocation:this.state.selectedLocation})}),Object(a.jsx)("div",{style:{height:"500px",width:"620px"},children:Object(a.jsx)(R.a,{center:{lat:34.6834,lng:-82.8374},zoom:this.state.zoom,draggable:this.state.draggable,onChange:this._onChange,onChildMouseDown:this.onMarkerInteraction,onChildMouseUp:this.onMarkerInteractionMouseUp,onChildMouseMove:this.onMarkerInteraction,onChildClick:function(){return console.log("child click")},onClick:this._onClick,bootstrapURLKeys:{key:"".concat("AIzaSyDCRF6mVOrt8dQJd4p_dI23D5B6ZT3YrhA"),libraries:["places","geometry"]},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){var n=t.map,a=t.maps;return e.addToState(n,a)}})})]})]})})}}]),n}(s.Component),K=(n(59),n.p+"static/media/truckfacingright.047c8684.jpeg"),Z=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={},a}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"contact-title",children:[Object(a.jsx)("img",{className:"contact-pic",src:K,alt:"truck"}),Object(a.jsx)("div",{className:"centered-title",children:" Contact Information:"}),Object(a.jsx)("div",{className:"centered-phone",children:" PHONE: 864-616-1151 "}),Object(a.jsx)("div",{className:"centered-email",children:" EMAIL: Organiconthego1@gmail.com"})]})}}]),n}(s.Component),Q=(n(60),function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleImage=function(e){var t=e.target.files[0];a.setState({image:t});var n=new FileReader;n.onloadend=function(){a.setState({preview:n.result})},n.readAsDataURL(t)},a.state={date:"",start_time:"",end_time:"",location:"",address:"",is_active:!1,map_location:""},a.handleChange=a.handleChange.bind(Object(j.a)(a)),a.addDate=a.addDate.bind(Object(j.a)(a)),a.deleteDate=a.deleteDate.bind(Object(j.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchEvents();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"addDate",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=Object(D.a)({},this.state),a={method:"POST",headers:{"X-CSRFToken":E.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(n)},s=function(e){return console.warn(e)},e.next=6,fetch("/api/v1/events/form/",a).catch(s);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteDate",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,s,c,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(x.a)(this.state.events),a=n.indexOf(t),n.splice(a,1),this.setState({events:n}),s={method:"DELETE",headers:{"X-CSRFToken":E.a.get("csrftoken")}},c=function(e){return console.warn(e)},e.next=8,fetch("/api/v1/events/".concat(t.id,"/"),s);case 8:return r=e.sent,e.next=11,r.json().catch(c);case 11:i=e.sent,console.log(i);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchEvents",value:function(){var e=this;fetch("/api/v1/events/form/").then((function(e){return e.json()})).then((function(t){return e.setState({events:t})})).then((function(e){return console.log("Error",e)}))}},{key:"render",value:function(){var e,t=this,n=null===(e=this.state.events)||void 0===e?void 0:e.map((function(e){return Object(a.jsx)(V,{deleteDate:t.deleteDate,item:e},e.id)}));return console.log(this.state.events),Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("form",{className:"col-12",onSubmit:function(e){return t.addDate(e,t.state)},children:Object(a.jsx)("div",{className:"form group",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col-5",children:[Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"date",children:"Date"}),Object(a.jsx)("input",{type:"date",className:"form-control",id:"date",name:"date",onChange:this.handleChange})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"start_time",children:"Start Time"}),Object(a.jsx)("input",{type:"time",className:"form-control",id:"start_time",name:"start_time",onChange:this.handleChange})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"end_time",children:"End Time"}),Object(a.jsx)("input",{type:"time",className:"form-control",id:"end_time",name:"end_time",onChange:this.handleChange})]}),Object(a.jsx)("label",{htmlFor:"location",children:"Location"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"location",name:"location",value:this.state.location,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"address",children:"Address"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"address",name:"address",value:this.state.address,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"is_active",children:"Is Active"}),Object(a.jsx)("input",{type:"checkbox",checked:this.state.is_active,onChange:function(){return t.setState((function(e){return{is_active:!e.is_active}}))}}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Date and Locale"})]}),Object(a.jsxs)("div",{className:"col-5",children:[Object(a.jsx)("br",{}),n]})]})})})})}}]),n}(s.Component)),V=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"col-12",children:Object(a.jsxs)("ul",{className:"address-list",children:[Object(a.jsxs)("div",{className:"row ",children:[Object(a.jsx)("h5",{className:"col-5",children:this.props.item.day}),Object(a.jsxs)("h5",{className:"col-7",children:[this.props.item.location," "]})]}),Object(a.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:function(){return e.props.deleteDate(e.props.item)},children:"Delete"}),Object(a.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:function(){return e.props.deleteDate(e.props.item)},children:"Edit"}),Object(a.jsx)("hr",{})]})})}}]),n}(s.Component),ee=Q,te=n(16),ne=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsx)(te.b,{to:"/login",className:"nav-login",children:"Admin"})}}]),n}(c.a.Component),ae=(n(63),function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={username:"",password:""},a.handleChange=a.handleChange.bind(Object(j.a)(a)),a}return Object(h.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("form",{className:"col-12 col-md-6 log-in",onSubmit:function(t){return e.props.handleLogin(t,e.state)},children:[Object(a.jsx)("h5",{className:"Register",children:"Log in"}),Object(a.jsxs)("div",{className:"form-group mt-5",children:[Object(a.jsx)("label",{htmlFor:"username",children:"Username"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",value:this.state.username,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",value:this.state.password,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"create-Account-Btn",children:[Object(a.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Log In"}),Object(a.jsx)("div",{children:Object(a.jsx)(te.b,{to:"/Registration",children:"Don't have an account?"})})]})]})})}}]),n}(s.Component)),se=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={username:"",email:"",password1:"",password2:""},a.handleChange=a.handleChange.bind(Object(j.a)(a)),a}return Object(h.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Registration Form"}),Object(a.jsxs)("form",{className:"col-12 col-md-6",onSubmit:function(t){return e.props.handleRegistration(t,e.state)},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"username",children:"Username"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",value:this.state.username,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",value:this.state.email,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"password1",children:"Password"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"password1",name:"password1",value:this.state.password1,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"password2",name:"password2",value:this.state.password2,onChange:this.handleChange})]}),Object(a.jsx)("button",{className:"btn btn-primary",children:"Register"})]})]})}}]),n}(s.Component);n(64);var ce=function(e){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("nav",{className:"navbar navbar-expand-md navbar-dark bg-primary",children:Object(a.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(a.jsx)("li",{children:Object(a.jsx)(te.b,{to:"/home",className:"nav-link",children:"Home"})}),e.isAuth?Object(a.jsx)("li",{children:Object(a.jsx)(te.b,{to:"/menuform",className:"nav-link",children:"Menu Form"})}):Object(a.jsx)("li",{children:Object(a.jsx)(te.b,{to:"/menu",className:"nav-link",children:"Menu"})}),e.isAuth?Object(a.jsx)("li",{children:Object(a.jsx)(te.b,{to:"/locationform",className:"nav-link",children:"Location Form"})}):Object(a.jsx)("li",{children:Object(a.jsx)(te.b,{to:"/location",className:"nav-link",children:"Location"})}),Object(a.jsx)("li",{children:Object(a.jsx)(te.b,{to:"/contact",className:"nav-link",children:"Contact"})}),e.isAuth?Object(a.jsx)("button",{type:"button",className:"btn  logout btn-secondary ",id:"logout",onClick:e.handleLogout,children:"Log out"}):Object(a.jsx)("li",{children:Object(a.jsx)(te.b,{to:"/login",className:"nav-login",children:"Admin"})})]})})})},re=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={isAuth:!!E.a.get("Authorization")},a.handleLogin=a.handleLogin.bind(Object(j.a)(a)),a.handleRegistration=a.handleRegistration.bind(Object(j.a)(a)),a.handleLogout=a.handleLogout.bind(Object(j.a)(a)),a.deleteEvent=a.deleteEvent.bind(Object(j.a)(a)),a}return Object(h.a)(n,[{key:"handleRegistration",value:function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a,s,c,r,i=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":E.a.get("csrftoken")},body:JSON.stringify(n)},s=function(e){return console.warn(e)},e.next=5,fetch("/rest-auth/registration/",a).catch(s);case 5:return c=e.sent,e.next=8,c.json().catch(s);case 8:r=e.sent,E.a.set("Authorization","Token ".concat(r.key)),this.setState({isAuth:!0},(function(){return i.props.history.push("/home")}));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleLogin",value:function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a,s,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":E.a.get("csrftoken")},body:JSON.stringify(n)},s=function(e){return console.warn(e)},e.next=5,fetch("rest-auth/login/",a).catch(s);case 5:return c=e.sent,e.next=8,c.json().catch(s);case 8:r=e.sent,E.a.set("Authorization","Token ".concat(r.key)),this.setState({isAuth:!0}),this.props.history.push("/menuform");case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleLogout",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={method:"POST",headers:{"X-CSRFToken":E.a.get("csrftoken")}},a=function(e){return console.warn(e)},e.next=5,fetch("rest-auth/logout/",n);case 5:return s=e.sent,e.next=8,s.json().catch(a);case 8:"Successfully logged out."===e.sent.detail&&(E.a.remove("Authorization"),this.setState({isAuth:!1}),this.props.history.push("/home"));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteEvent",value:function(){fetch("/api/v1/menuItems/".concat(this.props.menuItemID,"/"),{method:"DELETE"}).catch((function(e){return console.error("Error:",e)}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(ce,{handleLogout:this.handleLogout,isAuth:this.state.isAuth}),Object(a.jsxs)(p.c,{children:[Object(a.jsx)(p.a,{path:"/menuform",component:_}),Object(a.jsx)(p.a,{path:"/menu",component:L}),Object(a.jsx)(p.a,{path:"/location",component:q}),Object(a.jsx)(p.a,{path:"/login",render:function(t){return Object(a.jsx)(ae,{isAuth:e.state.isAuth,handleLogin:e.handleLogin})}}),Object(a.jsx)(p.a,{path:"/registration",render:function(t){return Object(a.jsx)(se,{isAuth:e.state.isAuth,handleRegistration:e.handleRegistration})}}),Object(a.jsx)(p.a,{path:"/",component:f,exact:!0}),Object(a.jsx)(p.a,{path:"/home",component:f}),Object(a.jsx)(p.a,{path:"/contact",component:Z}),Object(a.jsx)(p.a,{path:"/locationform",component:ee})]}),Object(a.jsx)("div",{children:Object(a.jsx)(ne,{})})]})}}]),n}(s.Component),ie=Object(p.f)(re),oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(te.a,{children:Object(a.jsx)(ie,{})})}),document.getElementById("root")),oe()}},[[65,1,2]]]);
//# sourceMappingURL=main.12eef60c.chunk.js.map